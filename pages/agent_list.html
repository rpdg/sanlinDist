<ons-page>
	
<ons-toolbar>
	<div class="left">
		<ons-back-button>返回</ons-back-button>
	</div>
	<div class="center">代理授权</div>
	<div class="right">
		<ons-icon id="icoSearch" icon="fa-search"></ons-icon>
	</div>
</ons-toolbar>

<ons-tabbar swipeable position="top" tab-border>
	<ons-tab page="tab1.html" label="授权" active></ons-tab>
	<ons-tab page="tab2.html" label="授权记录"></ons-tab>
</ons-tabbar>


<template id="tab1.html">
	<ons-page id="Tab1">
		<ons-list class="my-10">
			<ons-list-item id="giveAgent" modifier="chevron">
				<div class="left"><span class="font-16">授权人</span></div>
				<div class="right font-16"><span class="text-gray" id="giveAgentSpan"></span></div>
			</ons-list-item>
			<ons-list-item id="pickAgent" modifier="chevron" tappable>
				<div class="left"><span class="font-16">代理人</span></div>
				<div class="right font-16"><span class="text-gray">请选择</span></div>
			</ons-list-item>
			<ons-list-item id="pickStartDate" modifier="longdivider chevron" tappable>
				<div class="left"><span class="font-16">代理开始时间</span></div>
				<div class="right font-16"><span class="text-gray">请选择开始时间</span></div>
			</ons-list-item>
			<ons-list-item id="pickEndDate" modifier="longdivider chevron" tappable>
				<div class="left"><span class="font-16">代理结束时间</span></div>
				<div class="right font-16"><span class="text-gray">请选择结束时间</span></div>
			</ons-list-item>
			<ons-list-item id="pickAgentRole" modifier="chevron" tappable>
				<div class="left"><span class="font-16">代理角色</span></div>
				<div class="right font-16"><span class="text-gray">请选择</span></div>
			</ons-list-item>
			<ons-list-item id="pickModule" modifier="chevron" tappable>
				<div class="left"><span class="font-16">功能模块</span></div>
				<div class="right font-16"><span class="text-gray">请选择</span></div>
			</ons-list-item>
		</ons-list>



		<style>
			.btmButton {
				width: 100%;
				text-align: center;
				border-radius: 0;
				font-size: 20px;
			}
		</style>
		<ons-bottom-toolbar>
			<label class="font-16" style="display: inline-block; margin: 10px 15px ;">
				<ons-checkbox input-id="check-all" modifier="material" value="something"
					style="vertical-align: baseline; margin-right: 6px;"></ons-checkbox>
				全部权限
			</label>

			<div class="fl-right" style="height: 100%; width:200px; display: flex;">
				<ons-button class="btmButton">授权</ons-button>
			</div>
		</ons-bottom-toolbar>
	</ons-page>
</template>

<template id="tab2.html">
	<ons-page id="Tab2">
		<p style="text-align: center;">
			&nbsp;
		</p>
	</ons-page>
</template>




    <script>ons.getScriptPage().onInit = function () {
    let fired = false;
    $(this)
        .on('click', '.listBody', function () {
        router.pushPage('./pages/order_detail.html', {
            data: { id: this.getAttribute('data-id') },
            animation: 'slide'
        });
    })
        .on('show', function () {
        if (!fired) {
            fired = true;
            $('#icoSearch').on('click', function () {
                router.pushPage('./pages/search.html', {
                    animation: 'slide'
                });
            });
            $('#pickAgent').singlePicker({
                data: [
                    { text: 'MASPZKF/张凯锋', value: 456 },
                    { text: 'MASPPCQ/裴昌谦', value: 456 },
                    { text: 'MASPXHF/谢海峰', value: 456 },
                ],
                selectedIndex: 0,
                title: '选择代人',
            });
            $('#pickAgentRole').singlePicker({
                data: [
                    { text: '分公司经理', value: 456 },
                    { text: '分公司副经理', value: 456 },
                    { text: 'PD科长', value: 456 },
                ],
                selectedIndex: 0,
                title: '选择代人',
            });
            $('#pickModule').singlePicker({
                data: [
                    { text: '特价单审批', value: 456 },
                    { text: '订单审批', value: 456 },
                    { text: '客户折扣审批', value: 456 },
                ],
                selectedIndex: 0,
                title: '选择代人',
            });
            $('#pickStartDate', this).datePicker();
            $('#pickEndDate', this).datePicker();
            $("#giveAgentSpan").html(currentUser.userName + "/" + currentUser.loginName);
        }
    });
};
</script><!--ignore-->
</ons-page>
